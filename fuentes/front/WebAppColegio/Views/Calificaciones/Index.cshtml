@using  WebAppColegio.Models.Response
@using System.Globalization;
@model IEnumerable<WebAppColegio.Models.Response.NotasResponse>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
}
<div class="container-fluid" id="container-wrapper">
    <div class="d-sm-flex align-items-center justify-content-between mb-12">

        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="~/Curso/Index">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Cursos</li>
        </ol>
    </div>


    <div class="row">
        <div class="col-sm-6 col-md-2">
            <div id="dataTableHover_filter" class="dataTables_filter"><label><input type="search" hidden class="form-control form-control-sm" placeholder="" aria-controls="dataTableHover"></label></div>
        </div>

        <div class="col-sm-6 col-md-2">
            <div id="dataTableHover_filter" class="dataTables_filter"><label><input type="search" hidden class="form-control form-control-sm" placeholder="" aria-controls="dataTableHover"></label></div>
        </div><div class="col-sm-6 col-md-2">
            <div id="dataTableHover_filter" class="dataTables_filter"><label><input type="search" hidden class="form-control form-control-sm" placeholder="" aria-controls="dataTableHover"></label></div>
        </div>
        <div class="col-sm-6 col-md-2">
            <div class="dataTables_length" id="dataTableHover_length">

            </div>
        </div>
        <div class="col-sm-6 col-md-2">
            <div id="dataTableHover_filter" class="dataTables_filter"><label><input type="number" id="inpPeriodo" name="ipnPeriodo" class="form-control form-control-sm" placeholder="Ingresar periodo" aria-controls="dataTableHover"></label></div>
        </div><div class="col-sm-6 col-md-2">
            <div id="dataTableHover_filter" class="dataTables_filter">
                <button id="buscarNotas" class="btn btn-info form-control form-control-sm" style="height: 31px ">Buscar Notas</button>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-lg-12 mb-4">
            <div class="table-responsive">
                <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                        <tr>
                            <th style="width:130px"></th>
                            <th style="width:30px; text-align: center;" colspan="3">Tareas</th>
                            <th style="width:30px; text-align: center;" colspan="3">Prácticas</th>
                            <th style="width:30px; text-align: center;" colspan="3">Exámenes </th>
                            <th style="width:30px; text-align: center;" colspan="3">Calificaciones de promedios por bimestre/trimestre/semestre</th>
                            <th style="width:30px; text-align: center;" colspan="1" rowspan="2">Nivel de logro alcanzado al finalizar el periodo lectivo</th>
                        </tr>
                        <tr>
                            <th style="width:130px">Curso</th>
                            <th style="width: 10px">T1</th>
                            <th style="width: 10px">T2</th>
                            <th style="width: 10px">T3</th>
                            <th style="width: 10px">P1</th>
                            <th style="width: 10px">P2</th>
                            <th style="width: 10px">P3</th>
                            <th style="width: 10px">E1</th>
                            <th style="width: 10px">E2</th>
                            <th style="width: 10px">E3</th>
                            <th style="width: 10px">PF1</th>
                            <th style="width: 10px">PF2</th>
                            <th style="width: 10px">PF3</th>
                        </tr>
                    </thead>
                    <tbody id="datosCalificaciones">
                    </tbody>
                </table>
            </div>
            <br><br><br><br><br><br>


        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        datosNotas();
    });
    $("#buscarNotas").click(function () {
        datosNotas();
        @*$('#datosCalificaciones').load('@Url.Action("Calificaciones", "ListarNotasAsync")', { _perido: periodo });*@

    });

    var datosNotas = function (inicio, fin) {
         var periodo = $('#inpPeriodo').val();
         $.ajax({
             url: '@Url.Action("listarNotas", "Calificaciones")?_periodo=' + periodo,
                type: 'POST',
                contentType: "application/json",
                data: { _perido: periodo },
                success: function (partialView) {
                    $('#datosCalificaciones').html(partialView);
                    $('#datosCalificaciones').show();
             },
             error: function (error) {
                alert('error; ' + eval(error));
}
            });
    }

</script>